{
  "version": 3,
  "sources": ["../../../../../../apps/kiosk-server/src/routes.ts"],
  "sourcesContent": ["import express, { Request, Response, NextFunction } from 'express';\r\nimport {\r\n  getAgeStats,\r\n  getBloodGroupStats,\r\n  getDonationCount,\r\n  getGenderStats,\r\n} from './services/db.query';\r\nconst router = express.Router();\r\n\r\nrouter.get('/', async (req: Request, res: Response, next: NextFunction) => {\r\n  res.json({ message: 'Hello from the APIsss!' });\r\n});\r\n\r\nrouter.get(\r\n  '/slides',\r\n  async (req: Request, res: Response, next: NextFunction) => {\r\n    // iterate folder name data to get all the jpg and png files and randomly select one\r\n    const slides = [\r\n      {\r\n        url: 'https://placehold.co/1400x800/FF0000/FFFFFF?text=Hamro LifeBank',\r\n        duration: 3000,\r\n        isPhoto: true,\r\n      },\r\n      {\r\n        url: '/stats/blood',\r\n        duration: 12000,\r\n        isPriority: true,\r\n      },\r\n      {\r\n        url: '/stats/age',\r\n        duration: 12000,\r\n        isPriority: true,\r\n      },\r\n      {\r\n        url: '/stats/gender',\r\n        duration: 12000,\r\n        isPriority: true,\r\n      },\r\n      {\r\n        url: 'https://assets.rumsan.net/hamro-lifebank/hlb-display/donors/1.jpg',\r\n        isPhoto: true,\r\n      },\r\n      {\r\n        url: 'https://assets.rumsan.net/hamro-lifebank/hlb-display/donors/2.jpg',\r\n        isPhoto: true,\r\n      },\r\n      {\r\n        url: 'https://assets.rumsan.net/hamro-lifebank/hlb-display/donors/3.jpg',\r\n        isPhoto: true,\r\n      },\r\n      {\r\n        url: 'https://assets.rumsan.net/hamro-lifebank/hlb-display/donors/4.jpg',\r\n        isPhoto: true,\r\n      },\r\n      {\r\n        url: 'https://assets.rumsan.net/hamro-lifebank/hlb-display/donors/5.jpg',\r\n        isPhoto: true,\r\n      },\r\n      {\r\n        url: 'https://assets.rumsan.net/hamro-lifebank/hlb-display/donors/6.jpg',\r\n        isPhoto: true,\r\n      },\r\n      {\r\n        url: 'https://assets.rumsan.net/hamro-lifebank/hlb-display/donors/7.jpg',\r\n        isPhoto: true,\r\n      },\r\n      {\r\n        url: 'https://assets.rumsan.net/hamro-lifebank/hlb-display/facts/1.png',\r\n        isPhoto: true,\r\n      },\r\n      {\r\n        url: 'https://assets.rumsan.net/hamro-lifebank/hlb-display/facts/2.png',\r\n        isPhoto: true,\r\n      },\r\n      {\r\n        url: 'https://assets.rumsan.net/hamro-lifebank/hlb-display/facts/3.png',\r\n        isPhoto: true,\r\n      },\r\n      {\r\n        url: 'https://assets.rumsan.net/hamro-lifebank/hlb-display/facts/4.png',\r\n        isPhoto: true,\r\n      },\r\n      {\r\n        url: 'https://assets.rumsan.net/hamro-lifebank/hlb-display/facts/5.png',\r\n        isPhoto: true,\r\n      },\r\n      {\r\n        url: 'https://assets.rumsan.net/hamro-lifebank/hlb-display/facts/6.png',\r\n        isPhoto: true,\r\n      },\r\n      {\r\n        url: 'https://assets.rumsan.net/hamro-lifebank/hlb-display/facts/7.png',\r\n        isPhoto: true,\r\n      },\r\n    ];\r\n    res.json(slides);\r\n  }\r\n);\r\n\r\nrouter.get(\r\n  '/stats/total',\r\n  async (req: Request, res: Response, next: NextFunction) => {\r\n    getDonationCount(process.env.EVENT_ID)\r\n      .then((data) => res.json(data))\r\n      .catch(next);\r\n  }\r\n);\r\n\r\nrouter.get(\r\n  '/stats/age',\r\n  async (req: Request, res: Response, next: NextFunction) => {\r\n    getAgeStats(process.env.EVENT_ID)\r\n      .then((data) => res.json(data))\r\n      .catch(next);\r\n  }\r\n);\r\n\r\nrouter.get(\r\n  '/stats/blood',\r\n  async (req: Request, res: Response, next: NextFunction) => {\r\n    getBloodGroupStats(process.env.EVENT_ID)\r\n      .then((data) => res.json(data))\r\n      .catch(next);\r\n  }\r\n);\r\n\r\nrouter.get(\r\n  '/stats/gender',\r\n  async (req: Request, res: Response, next: NextFunction) => {\r\n    getGenderStats(process.env.EVENT_ID)\r\n      .then((data) => res.json(data))\r\n      .catch(next);\r\n  }\r\n);\r\n\r\nexport const routes = router;\r\n"],
  "mappings": ";;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBAAyD;AACzD,gBAKO;AACP,MAAM,SAAS,eAAAA,QAAQ,OAAO;AAE9B,OAAO,IAAI,KAAK,OAAO,KAAc,KAAe,SAAuB;AACzE,MAAI,KAAK,EAAE,SAAS,yBAAyB,CAAC;AAChD,CAAC;AAED,OAAO;AAAA,EACL;AAAA,EACA,OAAO,KAAc,KAAe,SAAuB;AAEzD,UAAM,SAAS;AAAA,MACb;AAAA,QACE,KAAK;AAAA,QACL,UAAU;AAAA,QACV,SAAS;AAAA,MACX;AAAA,MACA;AAAA,QACE,KAAK;AAAA,QACL,UAAU;AAAA,QACV,YAAY;AAAA,MACd;AAAA,MACA;AAAA,QACE,KAAK;AAAA,QACL,UAAU;AAAA,QACV,YAAY;AAAA,MACd;AAAA,MACA;AAAA,QACE,KAAK;AAAA,QACL,UAAU;AAAA,QACV,YAAY;AAAA,MACd;AAAA,MACA;AAAA,QACE,KAAK;AAAA,QACL,SAAS;AAAA,MACX;AAAA,MACA;AAAA,QACE,KAAK;AAAA,QACL,SAAS;AAAA,MACX;AAAA,MACA;AAAA,QACE,KAAK;AAAA,QACL,SAAS;AAAA,MACX;AAAA,MACA;AAAA,QACE,KAAK;AAAA,QACL,SAAS;AAAA,MACX;AAAA,MACA;AAAA,QACE,KAAK;AAAA,QACL,SAAS;AAAA,MACX;AAAA,MACA;AAAA,QACE,KAAK;AAAA,QACL,SAAS;AAAA,MACX;AAAA,MACA;AAAA,QACE,KAAK;AAAA,QACL,SAAS;AAAA,MACX;AAAA,MACA;AAAA,QACE,KAAK;AAAA,QACL,SAAS;AAAA,MACX;AAAA,MACA;AAAA,QACE,KAAK;AAAA,QACL,SAAS;AAAA,MACX;AAAA,MACA;AAAA,QACE,KAAK;AAAA,QACL,SAAS;AAAA,MACX;AAAA,MACA;AAAA,QACE,KAAK;AAAA,QACL,SAAS;AAAA,MACX;AAAA,MACA;AAAA,QACE,KAAK;AAAA,QACL,SAAS;AAAA,MACX;AAAA,MACA;AAAA,QACE,KAAK;AAAA,QACL,SAAS;AAAA,MACX;AAAA,MACA;AAAA,QACE,KAAK;AAAA,QACL,SAAS;AAAA,MACX;AAAA,IACF;AACA,QAAI,KAAK,MAAM;AAAA,EACjB;AACF;AAEA,OAAO;AAAA,EACL;AAAA,EACA,OAAO,KAAc,KAAe,SAAuB;AACzD,oCAAiB,QAAQ,IAAI,QAAQ,EAClC,KAAK,CAAC,SAAS,IAAI,KAAK,IAAI,CAAC,EAC7B,MAAM,IAAI;AAAA,EACf;AACF;AAEA,OAAO;AAAA,EACL;AAAA,EACA,OAAO,KAAc,KAAe,SAAuB;AACzD,+BAAY,QAAQ,IAAI,QAAQ,EAC7B,KAAK,CAAC,SAAS,IAAI,KAAK,IAAI,CAAC,EAC7B,MAAM,IAAI;AAAA,EACf;AACF;AAEA,OAAO;AAAA,EACL;AAAA,EACA,OAAO,KAAc,KAAe,SAAuB;AACzD,sCAAmB,QAAQ,IAAI,QAAQ,EACpC,KAAK,CAAC,SAAS,IAAI,KAAK,IAAI,CAAC,EAC7B,MAAM,IAAI;AAAA,EACf;AACF;AAEA,OAAO;AAAA,EACL;AAAA,EACA,OAAO,KAAc,KAAe,SAAuB;AACzD,kCAAe,QAAQ,IAAI,QAAQ,EAChC,KAAK,CAAC,SAAS,IAAI,KAAK,IAAI,CAAC,EAC7B,MAAM,IAAI;AAAA,EACf;AACF;AAEO,MAAM,SAAS;",
  "names": ["express"]
}
